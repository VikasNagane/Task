<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    
    <title>Loan page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    </head>   
<body onload="document.form1.cfullname.focus();">
     <h1 class='text-center bg-primary text-white pt-3 pb-3 mb-4'> Pixel6 Loan </h1>
<form  name='form1' onsubmit='return formSubmit()'>

    <div class="container text-center">
    <div class="row mb-3">
        <label for="cfullname" class="col-sm-2 col-form-label">Full Name:</label>
        <div class="col-sm-5">
            <input type="text" id="cfullname" class="form-control"/>
           <!-- <span id="namealert"></span> -->
        </div>
    </div>

    <div class="row mb-3">
        <label for="cmail" class="col-sm-2 col-form-label">Email:</label>
        <div class="col-sm-5">
            <input type="email"  id="cmail" class="form-control" />
            <!-- <span id="emailalert"></span> -->
        </div>
    </div>

    <div class="row mb-3">
        <label for="cpan" class="col-sm-2 col-form-label">PAN NO:</label>
        <div class="col-sm-5">
            <input type="text"  id="cpan" class="form-control" />
           <!-- <span id="panalert"></span>  <span id="lblPANCard" class="error"></span> -->
        </div>
    </div>

    <div class="row mb-3">
        <label for="cloan" class="col-sm-2 col-form-label">Loan Amount:</label>
        <div class="col-sm-5">
            <input type="number" id="cloan" maxlength="9" class="form-control" />
            <br>
            <span id="Amountinwords"></span>
        </div>
    </div>

    <div class="row mb-3">
        <div class="col-sm-5 col-form-label">
            <button type="submit"  class="btn btn-primary" value="submit"> submit </button>
        </div>
        
    </div> 
    </div>
</form>

<script type="text/javascript">

       /* var fname=document.getElementById("cfullname").value;
        var femail=document.getElementById("cmail").value;
        var floan=document.getElementById("cloan").value;
        var fpan=document.getElementById("cpan").value;  
        */
        
      
    var a = ['','one ','two ','three ','four ', 'five ','six ','seven ','eight ','nine ','ten ','eleven ','twelve ','thirteen ','fourteen ','fifteen ','sixteen ','seventeen ','eighteen ','nineteen '];
    var b = ['', '', 'twenty','thirty','forty','fifty', 'sixty','seventy','eighty','ninety'];

        function inWords (num) {
            if ((num = num.toString()).length > 9) return 'overflow';
            n = ('000000000' + num).substr(-9).match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/);
            if (!n) return; var str = '';
            str += (n[1] != 0) ? (a[Number(n[1])] || b[n[1][0]] + ' ' + a[n[1][1]]) + 'crore ' : '';
            str += (n[2] != 0) ? (a[Number(n[2])] || b[n[2][0]] + ' ' + a[n[2][1]]) + 'lakh ' : '';
            str += (n[3] != 0) ? (a[Number(n[3])] || b[n[3][0]] + ' ' + a[n[3][1]]) + 'thousand ' : '';
            str += (n[4] != 0) ? (a[Number(n[4])] || b[n[4][0]] + ' ' + a[n[4][1]]) + 'hundred ' : '';
            str += (n[5] != 0) ? ((str != '') ? 'and ' : '') + (a[Number(n[5])] || b[n[5][0]] + ' ' + a[n[5][1]]) + 'only ' : '';
            return str;
        }; 

        document.getElementById('cloan').onkeyup = function () {
        document.getElementById('Amountinwords').innerHTML = inWords(document.getElementById('cloan').value);
            };   
            
function getData()
{
    
        var fname=document.getElementById("cfullname").value;
        var femail=document.getElementById("cmail").value;
    
    //saving the values in local storage
    localStorage.setItem("txtValue", fname);
    localStorage.setItem("txtValue1", femail);
       
}




                    function ValidatePAN(fpan) {
                        var regex = /([A-Z]){5}([0-9]){4}([A-Z]){1}$/;
                        if(fpan==null || fpan=="")
                        {
                            window.alert("PAN field is blank");
                            fpan.focus();
                             return false;
                        } 
                         else if (regex.test(fpan.toUpperCase())) {

                            return true;
                            
                        }
                        else {
                            window.alert("Invalid pan");
                            fpan.focus();
                            return false;
                        }
                    }


                    function validateEmail(femail) {
                        const regex_pattern =      /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                        

                        if(femail==null || femail=="")
                        {
                            window.alert("Email field is blank");
                            femail.focus();
                             return false;
                        }
                        else if (regex_pattern.test(femail)) {
                            return true;
                        }
                        else{
                            window.alert('The email address is not valid');
                            femail.focus();
                            return false;
                        }
                    }

                       
                    
                    function validatename(fname){  
                            if (fname==null || fname==""){  
                            window.alert("Name can't be blank"); 
                            fname.focus();
                            return false; 
                            }
                            else if(fname.length<4){  
                            alert("Name must be at least 4 characters long.");  
                            fname.focus();
                             return false;
                            }
                            else{
                                return true;
                            }  
                            }  
 function ValidateLoanAmt(floan)
 {
    if(floan.length<1)
            {
                window.alert("loan amount filed is blank");
                floan.focus();
                return false;
            }
            else{
                return true;
            }  
 }




        function formSubmit()
        {
           
        //gettting the values
        var fname=document.getElementById("cfullname").value;
        var femail=document.getElementById("cmail").value;
        var floan=document.getElementById("cloan").value;
        var fpan=document.getElementById("cpan").value;
        

        getData();
        if(validatename(fname))
        {
            if(validateEmail(femail))
            {
                if(ValidatePAN(fpan))
                {
                    if(ValidateLoanAmt(floan))
                    {
                        window.alert("Form Submitted Successfully");
                        window.location="action.html";
                    }
                }
            }
        }
        return false;     
             
        }

  </script> 
</body>
</html>
 